<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AION - Prediction Market</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-white min-h-screen font-sans">
    <!-- Header -->
    <header class="bg-gradient-to-r from-red-600 to-red-800 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center text-red-600 font-bold text-xl">A</div>
                    <span class="text-xl font-bold text-white">AION</span>
                </div>

                <!-- Navigation -->
                <nav class="hidden md:flex items-center space-x-2">
                    <button onclick="showPage('dashboard')" class="nav-btn active flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="layout-dashboard" class="h-5 w-5"></i>
                        <span>Dashboard</span>
                    </button>
                    <button onclick="showPage('about')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="info" class="h-5 w-5"></i>
                        <span>About AION</span>
                    </button>
                    <button onclick="showPage('marketplace')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="store" class="h-5 w-5"></i>
                        <span>Marketplace</span>
                    </button>
                    <button onclick="showPage('leaderboard')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="trophy" class="h-5 w-5"></i>
                        <span>Leaderboard</span>
                    </button>
                    <button onclick="showPage('battle')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="swords" class="h-5 w-5"></i>
                        <span>Battle</span>
                    </button>
                    <button onclick="showPage('governance')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="vote" class="h-5 w-5"></i>
                        <span>Governance</span>
                    </button>
                    <button onclick="showPage('userinfo')" class="nav-btn flex items-center space-x-2 px-4 py-2 rounded-lg">
                        <i data-lucide="user" class="h-5 w-5"></i>
                        <span>User Info</span>
                    </button>
                </nav>

                <!-- Connect Wallet -->
                <button id="connectWallet" onclick="connectWallet()" class="bg-white text-red-600 px-4 py-2 rounded-lg hover:bg-gray-100 font-semibold">
                    <span id="walletText">Connect Wallet</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page">
            <!-- Headline -->
            <div class="text-center mb-12 px-4">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4 text-red-600 leading-tight">Empowering Truth Through Collective AI</h1>
                <p class="text-base md:text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed">AION is a decentralized intelligence oracle network that transforms collective learning into verifiable predictions — bringing transparency, accuracy, and autonomy to the future of forecasting.</p>
            </div>
            
            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white border border-red-200 shadow-lg p-6 rounded-lg shadow">
                    <h3 class="text-sm font-medium text-gray-600">Total Value Locked</h3>
                    <p class="text-2xl font-bold text-green-600">$2.4M</p>
                </div>
                <div class="bg-white border border-red-200 shadow-lg p-6 rounded-lg shadow">
                    <h3 class="text-sm font-medium text-gray-600">Active Predictions</h3>
                    <p class="text-2xl font-bold text-blue-600">156</p>
                </div>
                <div class="bg-white border border-red-200 shadow-lg p-6 rounded-lg shadow">
                    <h3 class="text-sm font-medium text-gray-600">Accuracy Rate</h3>
                    <p class="text-2xl font-bold text-purple-600">92.3%</p>
                </div>
                <div class="bg-white border border-red-200 shadow-lg p-6 rounded-lg shadow">
                    <h3 class="text-sm font-medium text-gray-600">Total Users</h3>
                    <p class="text-2xl font-bold text-orange-600">8,429</p>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                <h2 class="text-xl font-bold mb-4">Recent Predictions</h2>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-semibold">Bitcoin Price Prediction</h3>
                            <p class="text-sm text-gray-600">GPT-4 Oracle Alpha • 95.8% confidence</p>
                        </div>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Active</span>
                    </div>
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-semibold">Ethereum Market Trend</h3>
                            <p class="text-sm text-gray-600">Claude Predictor • 93.2% confidence</p>
                        </div>
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Resolved</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- About AION Page -->
        <div id="about" class="page hidden">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">About AION</h1>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">
                        <i data-lucide="brain" class="h-8 w-8 text-red-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">AI-Powered Predictions</h3>
                    <p class="text-gray-600">AION (Autonomous Intelligence Oracle Network) is a decentralized AI-powered prediction market that uses collective learning models and reputation mechanisms to generate verifiable predictions.</p>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">
                        <i data-lucide="link" class="h-8 w-8 text-blue-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Linera Integration</h3>
                    <p class="text-gray-600">With integration to Linera blockchain, AION gains parallel execution capabilities, high throughput, and extremely low gas fees thanks to microchains architecture.</p>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4">
                        <i data-lucide="zap" class="h-8 w-8 text-green-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">High Performance</h3>
                    <p class="text-gray-600">Microchains architecture enables parallel transaction processing, delivering unprecedented speed and scalability for prediction markets.</p>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4">
                        <i data-lucide="shield-check" class="h-8 w-8 text-purple-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Verifiable Results</h3>
                    <p class="text-gray-600">All predictions are cryptographically verified on-chain, ensuring transparency and trust in the prediction outcomes.</p>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-4">
                        <i data-lucide="users" class="h-8 w-8 text-yellow-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Collective Intelligence</h3>
                    <p class="text-gray-600">Multiple AI models compete and collaborate, creating a meta-learning system that continuously improves prediction accuracy.</p>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4">
                        <i data-lucide="coins" class="h-8 w-8 text-orange-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Low Gas Fees</h3>
                    <p class="text-gray-600">Linera's microchains architecture dramatically reduces transaction costs, making predictions accessible to everyone.</p>
                </div>
            </div>
        </div>

        <!-- Marketplace Page -->
        <div id="marketplace" class="page hidden">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">Prediction Marketplace</h1>
            
            <!-- Filters -->
            <div class="bg-white border border-red-200 shadow-lg p-4 rounded-lg shadow mb-6">
                <div class="flex flex-wrap gap-4">
                    <select class="border rounded-lg px-3 py-2">
                        <option>All Categories</option>
                        <option>Finance</option>
                        <option>Esports</option>
                        <option>Climate</option>
                        <option>Politics</option>
                        <option>Technology</option>
                    </select>
                    <select class="border rounded-lg px-3 py-2">
                        <option>All Status</option>
                        <option>Active</option>
                        <option>Resolved</option>
                    </select>
                </div>
            </div>

            <!-- Predictions Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Bitcoin will reach $100k by Q1 2025</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: GPT-4 Oracle Alpha</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 95.8%</span>
                        <span class="text-sm">Stake: $12,540</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Ethereum reaches $6,000 by Q2 2025</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: GPT-4 Oracle Alpha</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 93.5%</span>
                        <span class="text-sm">Stake: $24,680</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Esports</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Team Liquid wins next major tournament</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Claude Predictor</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 87.3%</span>
                        <span class="text-sm">Stake: $8,920</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">BNB reaches $800 by end of 2025</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Claude Predictor</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 89.2%</span>
                        <span class="text-sm">Stake: $18,340</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Aptos TVL exceeds $2B in 2025</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Llama Vision Pro</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 92.7%</span>
                        <span class="text-sm">Stake: $14,820</span>
                    </div>
                    <button class="w-full bg-purple-600 text-gray-900 py-2 rounded-lg hover:bg-purple-700">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Sui Network reaches 10M daily transactions</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Gemini Forecast</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 88.5%</span>
                        <span class="text-sm">Stake: $11,290</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Avalanche C-Chain gas fees drop 50%</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Mistral Oracle</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 85.3%</span>
                        <span class="text-sm">Stake: $9,540</span>
                    </div>
                    <button class="w-full bg-purple-600 text-gray-900 py-2 rounded-lg hover:bg-purple-700">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Solana reaches $300 by mid-2025</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: GPT-4 Oracle Alpha</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 91.8%</span>
                        <span class="text-sm">Stake: $22,150</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm">Finance</span>
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">Active</span>
                    </div>
                    <h3 class="font-bold mb-2">Hyperliquid daily volume exceeds $5B</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Claude Predictor</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 87.9%</span>
                        <span class="text-sm">Stake: $16,780</span>
                    </div>
                    <button class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Stake Now
                    </button>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-orange-100 text-orange-800 px-2 py-1 rounded text-sm">Technology</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm">Resolved</span>
                    </div>
                    <h3 class="font-bold mb-2">Apple releases AR glasses in 2024</h3>
                    <p class="text-sm text-gray-600 mb-4">AI Model: Llama Vision Pro</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm">Confidence: 91.5%</span>
                        <span class="text-sm">Stake: $15,430</span>
                    </div>
                    <button class="w-full bg-gray-400 text-white py-2 rounded-lg cursor-not-allowed">
                        Resolved
                    </button>
                </div>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard" class="page hidden">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">AI Models Leaderboard</h1>
            
            <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow overflow-hidden">
                <table class="w-full" id="leaderboard">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase">Rank</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase">AI Model</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase">Accuracy</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase">Predictions</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase">Total Earned</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4">🥇 1</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-gray-900 text-sm mr-3">G</div>
                                    <div>
                                        <div class="font-medium">GPT-4 Oracle Alpha</div>
                                        <div class="text-sm text-gray-600">GPT-4</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">95.8%</td>
                            <td class="px-6 py-4">1,247</td>
                            <td class="px-6 py-4 text-green-600 font-medium">$89,230</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4">🥈 2</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-gray-900 text-sm mr-3">C</div>
                                    <div>
                                        <div class="font-medium">Claude Predictor</div>
                                        <div class="text-sm text-gray-600">Claude-3</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">93.2%</td>
                            <td class="px-6 py-4">982</td>
                            <td class="px-6 py-4 text-green-600 font-medium">$72,340</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4">🥉 3</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-gray-900 text-sm mr-3">L</div>
                                    <div>
                                        <div class="font-medium">Llama Vision Pro</div>
                                        <div class="text-sm text-gray-600">Llama-3</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">91.5%</td>
                            <td class="px-6 py-4">1,103</td>
                            <td class="px-6 py-4 text-green-600 font-medium">$65,420</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Battle Page -->
        <div id="battle" class="page hidden">
            <!-- Headline -->
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent">Battle Arena</h1>
                <p class="text-lg text-gray-600">AION is where humans and AI rewrite the future</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- AI vs AI Battle -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6 flex flex-col">
                    <div class="flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4 mx-auto">
                        <i data-lucide="cpu" class="h-8 w-8 text-purple-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3 text-center">AI vs AI</h3>
                    <p class="text-gray-600 mb-4 text-center min-h-[48px]">Watch AI models compete against each other in prediction battles</p>
                    <div class="space-y-3 mb-4 flex-grow">
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold">GPT-4 Oracle</span>
                                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">95.8%</span>
                            </div>
                            <div class="text-xs text-gray-600">vs</div>
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-sm font-semibold">Claude Predictor</span>
                                <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">93.2%</span>
                            </div>
                        </div>
                    </div>
                    <button onclick="startAIvAIBattle()" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 font-semibold">
                        Watch Battle
                    </button>
                </div>

                <!-- AI vs Human Battle -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6 flex flex-col">
                    <div class="flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4 mx-auto">
                        <i data-lucide="brain" class="h-8 w-8 text-blue-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3 text-center">AI vs Human</h3>
                    <p class="text-gray-600 mb-4 text-center min-h-[48px]">Challenge AI models with your own predictions</p>
                    <div class="space-y-3 mb-4 flex-grow">
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold">Llama Vision Pro</span>
                                <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">91.5%</span>
                            </div>
                            <div class="text-xs text-gray-600">vs</div>
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-sm font-semibold">You</span>
                                <span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">Join</span>
                            </div>
                        </div>
                    </div>
                    <button onclick="startAIvHumanBattle()" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 font-semibold">
                        Join Battle
                    </button>
                </div>

                <!-- Human vs Human Battle -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6 flex flex-col">
                    <div class="flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4 mx-auto">
                        <i data-lucide="users" class="h-8 w-8 text-red-600"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3 text-center">Human vs Human</h3>
                    <p class="text-gray-600 mb-4 text-center min-h-[48px]">Compete with other users in prediction challenges</p>
                    <div class="space-y-3 mb-4 flex-grow">
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold">Player 1</span>
                                <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">Waiting</span>
                            </div>
                            <div class="text-xs text-gray-600">vs</div>
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-sm font-semibold">Player 2</span>
                                <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">Waiting</span>
                            </div>
                        </div>
                    </div>
                    <button onclick="startHumanvHumanBattle()" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">
                        Create Battle
                    </button>
                </div>
            </div>

            <!-- Active Battles -->
            <div class="mt-8">
                <h2 class="text-2xl font-bold mb-4 text-gray-800">Active Battles</h2>
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 border rounded-lg">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">🤖</span>
                                <div>
                                    <h3 class="font-semibold">GPT-4 vs Claude</h3>
                                    <p class="text-sm text-gray-600">Bitcoin $100k prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Live</span>
                                <button onclick="startAIvAIBattle()" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-4 border rounded-lg">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">👤</span>
                                <div>
                                    <h3 class="font-semibold">User123 vs Llama Vision</h3>
                                    <p class="text-sm text-gray-600">Ethereum $6k prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Live</span>
                                <button onclick="startAIvHumanBattle()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-4 border rounded-lg">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">⚔️</span>
                                <div>
                                    <h3 class="font-semibold">CryptoKing vs TraderPro</h3>
                                    <p class="text-sm text-gray-600">Solana $300 prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Live</span>
                                <button onclick="startHumanvHumanBattle()" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Governance Page -->
        <div id="governance" class="page hidden">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">DAO Governance</h1>
            
            <div class="space-y-6">
                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold">Increase AI Model Stake Requirement</h3>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Active</span>
                    </div>
                    <p class="text-gray-600 mb-4">Proposal to increase minimum stake from 1000 to 5000 AION tokens to improve prediction quality.</p>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span>For: 12,450 votes (78.4%)</span>
                            <span>Against: 3,420 votes (21.6%)</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 78.4%"></div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button class="bg-green-500 text-gray-900 px-4 py-2 rounded-lg hover:bg-green-600">Vote For</button>
                        <button class="bg-red-500 text-gray-900 px-4 py-2 rounded-lg hover:bg-red-600">Vote Against</button>
                    </div>
                </div>

                <div class="bg-white border border-red-200 shadow-lg rounded-lg shadow p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold">Add New Market Category: DeFi</h3>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Active</span>
                    </div>
                    <p class="text-gray-600 mb-4">Proposal to add DeFi as a new prediction market category.</p>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span>For: 8,920 votes (87.8%)</span>
                            <span>Against: 1,240 votes (12.2%)</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 87.8%"></div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button class="bg-green-500 text-gray-900 px-4 py-2 rounded-lg hover:bg-green-600">Vote For</button>
                        <button class="bg-red-500 text-gray-900 px-4 py-2 rounded-lg hover:bg-red-600">Vote Against</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Info Page -->
        <div id="userinfo" class="page hidden">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">User Information</h1>
            
            <!-- Profile Card -->
            <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6 mb-6">
                <div class="flex items-center space-x-6">
                    <div class="relative">
                        <img id="userPhoto" src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="Profile" class="w-24 h-24 rounded-full border-4 border-red-500">
                        <button onclick="changePhoto()" class="absolute bottom-0 right-0 bg-red-600 text-white p-2 rounded-full hover:bg-red-700">
                            <i data-lucide="camera" class="h-4 w-4"></i>
                        </button>
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl font-bold" id="userName">Anonymous User</h2>
                        <p class="text-gray-600" id="userBio">No bio yet</p>
                        <button onclick="editProfile()" class="mt-2 bg-red-600 text-white px-4 py-1 rounded-lg hover:bg-red-700 text-sm font-semibold">
                            Edit Profile
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Wallet Info -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i data-lucide="wallet" class="h-5 w-5 mr-2"></i>
                        Wallet Information
                    </h2>
                    <div class="space-y-3">
                        <div>
                            <p class="text-sm text-gray-600">Wallet Address</p>
                            <p class="font-mono text-sm" id="userWalletAddress">Not Connected</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">AION Balance</p>
                            <p class="text-2xl font-bold text-red-600" id="userAionBalance">0</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">ETH Balance</p>
                            <p class="text-lg font-semibold" id="userEthBalance">0</p>
                        </div>
                    </div>
                </div>

                <!-- Staking Info -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i data-lucide="trending-up" class="h-5 w-5 mr-2"></i>
                        Staking Summary
                    </h2>
                    <div class="space-y-3">
                        <div>
                            <p class="text-sm text-gray-600">Total Staked</p>
                            <p class="text-2xl font-bold text-blue-600" id="userTotalStaked">0 AION</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Active Stakes</p>
                            <p class="text-lg font-semibold" id="userActiveStakes">0</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Total Rewards</p>
                            <p class="text-lg font-semibold text-green-600" id="userRewards">0 AION</p>
                        </div>
                    </div>
                </div>

                <!-- Activity Stats -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i data-lucide="activity" class="h-5 w-5 mr-2"></i>
                        Activity Statistics
                    </h2>
                    <div class="space-y-3">
                        <div>
                            <p class="text-sm text-gray-600">Predictions Participated</p>
                            <p class="text-lg font-semibold" id="userPredictions">0</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Win Rate</p>
                            <p class="text-lg font-semibold text-green-600" id="userWinRate">0%</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Member Since</p>
                            <p class="text-sm" id="userMemberSince">-</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Stakes -->
                <div class="bg-white border border-red-200 shadow-lg rounded-lg p-6">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i data-lucide="history" class="h-5 w-5 mr-2"></i>
                        Recent Stakes
                    </h2>
                    <div class="space-y-2" id="userRecentStakes">
                        <p class="text-sm text-gray-500">No stakes yet</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="mt-6 flex gap-4">
                <button onclick="refreshUserInfo()" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 font-semibold">
                    Refresh Data
                </button>
                <button onclick="exportUserData()" class="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 font-semibold">
                    Export Data
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-red-600 to-red-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">&copy; 2025 AION - Autonomous Intelligence Oracle Network. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Fetch and display leaderboard data
        async function loadLeaderboard() {
            try {
                const response = await fetch('http://localhost:8001/api/ai-models');
                const models = await response.json();
                const tbody = document.querySelector('#leaderboard tbody');
                tbody.innerHTML = models.map((model, index) => `
                    <tr>
                        <td class="px-6 py-4">${index === 0 ? '🥇' : index === 1 ? '🥈' : index === 2 ? '🥉' : ''} ${model.rank}</td>
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm mr-3">${model.name[0]}</div>
                                <div>
                                    <div class="font-medium">${model.name}</div>
                                    <div class="text-sm text-gray-600">${model.model_type}</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4">${model.accuracy_rate}%</td>
                        <td class="px-6 py-4">${model.total_predictions}</td>
                        <td class="px-6 py-4 text-red-600 font-medium">$${model.total_earned.toLocaleString()}</td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('Error loading leaderboard:', error);
            }
        }

        // Load leaderboard when page opens
        document.addEventListener('DOMContentLoaded', loadLeaderboard);

        // User Info functionality
        function updateUserInfo() {
            if (isConnected && walletAddress) {
                document.getElementById('userWalletAddress').textContent = walletAddress;
                document.getElementById('userAionBalance').textContent = (Math.random() * 10000 + 1000).toFixed(2) + ' AION';
                document.getElementById('userEthBalance').textContent = (Math.random() * 5).toFixed(4) + ' ETH';
                document.getElementById('userTotalStaked').textContent = (Math.random() * 5000).toFixed(2) + ' AION';
                document.getElementById('userActiveStakes').textContent = Math.floor(Math.random() * 10 + 1);
                document.getElementById('userRewards').textContent = (Math.random() * 500).toFixed(2) + ' AION';
                document.getElementById('userPredictions').textContent = Math.floor(Math.random() * 20 + 5);
                document.getElementById('userWinRate').textContent = (Math.random() * 30 + 60).toFixed(1) + '%';
                document.getElementById('userMemberSince').textContent = new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toLocaleDateString();
                
                const recentStakes = document.getElementById('userRecentStakes');
                recentStakes.innerHTML = `
                    <div class="text-sm border-b pb-2"><span class="font-semibold">Bitcoin $100k</span> - 500 AION</div>
                    <div class="text-sm border-b pb-2"><span class="font-semibold">Ethereum $6k</span> - 300 AION</div>
                    <div class="text-sm"><span class="font-semibold">Solana $300</span> - 200 AION</div>
                `;
            } else {
                document.getElementById('userWalletAddress').textContent = 'Not Connected';
                document.getElementById('userAionBalance').textContent = '0';
                document.getElementById('userEthBalance').textContent = '0';
                document.getElementById('userTotalStaked').textContent = '0 AION';
                document.getElementById('userActiveStakes').textContent = '0';
                document.getElementById('userRewards').textContent = '0 AION';
                document.getElementById('userPredictions').textContent = '0';
                document.getElementById('userWinRate').textContent = '0%';
                document.getElementById('userMemberSince').textContent = '-';
                document.getElementById('userRecentStakes').innerHTML = '<p class="text-sm text-gray-500">Connect wallet to view stakes</p>';
            }
        }

        function refreshUserInfo() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            updateUserInfo();
            alert('User data refreshed!');
        }

        function exportUserData() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            const data = {
                wallet: walletAddress,
                timestamp: new Date().toISOString(),
                balance: document.getElementById('userAionBalance').textContent,
                staked: document.getElementById('userTotalStaked').textContent,
                rewards: document.getElementById('userRewards').textContent
            };
            alert('Export Data:\n\n' + JSON.stringify(data, null, 2));
        }

        // Profile management
        function editProfile() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            
            const currentName = document.getElementById('userName').textContent;
            const currentBio = document.getElementById('userBio').textContent;
            
            const newName = prompt('Enter your name:', currentName === 'Anonymous User' ? '' : currentName);
            if (newName) {
                document.getElementById('userName').textContent = newName;
                localStorage.setItem('userName_' + walletAddress, newName);
            }
            
            const newBio = prompt('Enter your bio:', currentBio === 'No bio yet' ? '' : currentBio);
            if (newBio) {
                document.getElementById('userBio').textContent = newBio;
                localStorage.setItem('userBio_' + walletAddress, newBio);
            }
            
            if (newName || newBio) {
                alert('✅ Profile updated successfully!');
            }
        }

        function changePhoto() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            
            const styles = ['avataaars', 'bottts', 'personas', 'lorelei', 'micah', 'adventurer'];
            let styleOptions = 'Select avatar style:\n\n';
            styles.forEach((style, i) => {
                styleOptions += `${i + 1}. ${style.charAt(0).toUpperCase() + style.slice(1)}\n`;
            });
            
            const choice = prompt(styleOptions + '\nEnter number (1-6):');
            if (choice && choice >= 1 && choice <= 6) {
                const selectedStyle = styles[choice - 1];
                const seed = walletAddress || 'default';
                const photoUrl = `https://api.dicebear.com/7.x/${selectedStyle}/svg?seed=${seed}`;
                document.getElementById('userPhoto').src = photoUrl;
                localStorage.setItem('userPhoto_' + walletAddress, photoUrl);
                alert('✅ Photo updated!');
            }
        }

        function loadUserProfile() {
            if (isConnected && walletAddress) {
                const savedName = localStorage.getItem('userName_' + walletAddress);
                const savedBio = localStorage.getItem('userBio_' + walletAddress);
                const savedPhoto = localStorage.getItem('userPhoto_' + walletAddress);
                
                if (savedName) document.getElementById('userName').textContent = savedName;
                if (savedBio) document.getElementById('userBio').textContent = savedBio;
                if (savedPhoto) document.getElementById('userPhoto').src = savedPhoto;
                else document.getElementById('userPhoto').src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${walletAddress}`;
            }
        }

        // Wallet connection functionality
        let isConnected = false;
        let walletAddress = null;

        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    walletAddress = accounts[0];
                    isConnected = true;
                    updateWalletUI();
                    updateUserInfo();
                    loadUserProfile();
                    alert('Wallet connected: ' + walletAddress);
                } catch (error) {
                    console.error('Error connecting wallet:', error);
                    alert('Error connecting wallet: ' + error.message);
                }
            } else {
                alert('MetaMask not detected! Please install MetaMask browser extension.');
            }
        }

        function updateWalletUI() {
            const walletText = document.getElementById('walletText');
            if (isConnected && walletAddress) {
                walletText.textContent = walletAddress.substring(0, 6) + '...' + walletAddress.substring(38);
            } else {
                walletText.textContent = 'Connect Wallet';
            }
        }

        // Navigation functionality
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.remove('hidden');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Activate current button
            event.target.closest('.nav-btn').classList.add('active');
        }

        // Set initial active state
        document.querySelector('.nav-btn.active').classList.add('text-white');
        document.querySelectorAll('.nav-btn:not(.active)').forEach(btn => {
            btn.classList.add('text-white');
        });

        // Stake functionality with AI model selection
        const aiModels = [
            'GPT-4 Oracle Alpha (95.8% accuracy)',
            'Claude Predictor (93.2% accuracy)',
            'Llama Vision Pro (91.5% accuracy)',
            'Gemini Forecast (89.7% accuracy)',
            'Mistral Oracle (87.3% accuracy)'
        ];

        let selectedAIModel = null;
        let currentStakeButton = null;
        let battleInProgress = false;

        // Battle Functions
        const battleAIModels = [
            {name: 'GPT-4 Oracle Alpha', accuracy: '95.8%', color: 'blue'},
            {name: 'Claude Predictor', accuracy: '93.2%', color: 'purple'},
            {name: 'Llama Vision Pro', accuracy: '91.5%', color: 'green'},
            {name: 'Gemini Forecast', accuracy: '89.7%', color: 'yellow'},
            {name: 'Mistral Oracle', accuracy: '87.3%', color: 'red'}
        ];

        function startAIvAIBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">Select AI Models for Battle</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Select Coin to Battle</label>
                        <select id="ai-coin-select" class="w-full border rounded-lg px-3 py-2">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name} - Target: ${coin.target}</option>`).join('')}
                        </select>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-semibold mb-2">AI Model A</label>
                            <select id="ai-a-select" class="w-full border rounded-lg px-3 py-2 mb-2">
                                ${battleAIModels.map((ai, i) => `<option value="${i}">${ai.name} (${ai.accuracy})</option>`).join('')}
                            </select>
                            <select id="ai-a-prediction" class="w-full border rounded-lg px-3 py-2">
                                <option value="BULLISH">📈 BULLISH</option>
                                <option value="BEARISH">📉 BEARISH</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">AI Model B</label>
                            <select id="ai-b-select" class="w-full border rounded-lg px-3 py-2 mb-2">
                                ${battleAIModels.map((ai, i) => `<option value="${i}" ${i === 1 ? 'selected' : ''}>${ai.name} (${ai.accuracy})</option>`).join('')}
                            </select>
                            <select id="ai-b-prediction" class="w-full border rounded-lg px-3 py-2">
                                <option value="BULLISH">📈 BULLISH</option>
                                <option value="BEARISH" selected>📉 BEARISH</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Choose Your Bet</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectBetSide('A')" id="bet-a" class="p-3 border-2 rounded-lg hover:bg-blue-50 hover:border-blue-500">
                                Bet on AI A
                            </button>
                            <button onclick="selectBetSide('B')" id="bet-b" class="p-3 border-2 rounded-lg hover:bg-purple-50 hover:border-purple-500">
                                Bet on AI B
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Bet Amount (AION)</label>
                        <input type="number" id="bet-amount" class="w-full border rounded-lg px-3 py-2" placeholder="Enter amount" min="1">
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startBattleWithBet()" class="flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">Start Battle</button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        let selectedBetSide = null;
        function selectBetSide(side) {
            selectedBetSide = side;
            document.getElementById('bet-a').classList.remove('bg-blue-100', 'border-blue-500');
            document.getElementById('bet-b').classList.remove('bg-purple-100', 'border-purple-500');
            if (side === 'A') {
                document.getElementById('bet-a').classList.add('bg-blue-100', 'border-blue-500');
            } else {
                document.getElementById('bet-b').classList.add('bg-purple-100', 'border-purple-500');
            }
        }

        function startBattleWithBet() {
            const aiAIndex = document.getElementById('ai-a-select').value;
            const aiBIndex = document.getElementById('ai-b-select').value;
            const coinIndex = document.getElementById('ai-coin-select').value;
            const betAmount = document.getElementById('bet-amount').value;
            const aiAPrediction = document.getElementById('ai-a-prediction').value;
            const aiBPrediction = document.getElementById('ai-b-prediction').value;
            
            if (aiAIndex === aiBIndex) {
                alert('Please select different AI models!');
                return;
            }
            if (!selectedBetSide) {
                alert('Please select which AI to bet on!');
                return;
            }
            if (!betAmount || betAmount <= 0) {
                alert('Please enter a valid bet amount!');
                return;
            }
            
            const aiA = battleAIModels[aiAIndex];
            const aiB = battleAIModels[aiBIndex];
            const coin = battleCoins[coinIndex];
            
            battlePlayer1Name = aiA.name;
            battlePlayer2Name = aiB.name;
            
            closeBattleModal();
            battleInProgress = true;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">AI vs AI Battle</h3>
                    <div class="text-center mb-4">
                        <p class="text-sm text-gray-600">Coin: <span class="font-bold">${coin.name}</span> - Target: <span class="font-bold">${coin.target}</span></p>
                        <p class="text-sm text-gray-600">Your Bet: <span class="font-bold text-red-600">${betAmount} AION</span> on <span class="font-bold">AI ${selectedBetSide}</span></p>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-4 bg-${aiA.color}-50 rounded-lg ${selectedBetSide === 'A' ? 'ring-2 ring-red-500' : ''}">
                            <div class="text-4xl mb-2">🤖</div>
                            <h4 class="font-bold">${aiA.name}</h4>
                            <p class="text-sm text-gray-600">${aiA.accuracy}</p>
                            <p class="text-xs font-semibold mt-1">${aiAPrediction}</p>
                            <div class="mt-2 text-2xl font-bold text-${aiA.color}-600" id="ai1-score">0</div>
                        </div>
                        <div class="text-center p-4 bg-${aiB.color}-50 rounded-lg ${selectedBetSide === 'B' ? 'ring-2 ring-red-500' : ''}">
                            <div class="text-4xl mb-2">🤖</div>
                            <h4 class="font-bold">${aiB.name}</h4>
                            <p class="text-sm text-gray-600">${aiB.accuracy}</p>
                            <p class="text-xs font-semibold mt-1">${aiBPrediction}</p>
                            <div class="mt-2 text-2xl font-bold text-${aiB.color}-600" id="ai2-score">0</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <div class="text-lg font-semibold" id="battle-status">Battle starting...</div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div class="bg-red-600 h-2 rounded-full transition-all" id="battle-progress" style="width: 0%"></div>
                        </div>
                    </div>
                    <button onclick="closeBattleModal()" class="w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Close</button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('ai1-score', 'ai2-score', betAmount);
        }

        const battleCoins = [
            {name: 'Bitcoin (BTC)', symbol: 'BTC', target: '$100,000'},
            {name: 'Ethereum (ETH)', symbol: 'ETH', target: '$6,000'},
            {name: 'Solana (SOL)', symbol: 'SOL', target: '$300'},
            {name: 'BNB', symbol: 'BNB', target: '$800'},
            {name: 'Cardano (ADA)', symbol: 'ADA', target: '$2'}
        ];

        function startAIvHumanBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">AI vs Human Battle Setup</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Select AI Opponent</label>
                        <select id="ai-opponent-select" class="w-full border rounded-lg px-3 py-2">
                            ${battleAIModels.map((ai, i) => `<option value="${i}">${ai.name} (${ai.accuracy})</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Select Coin to Predict</label>
                        <select id="coin-select" class="w-full border rounded-lg px-3 py-2">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name} - Target: ${coin.target}</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Your Prediction</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectHumanPrediction('BULLISH')" id="pred-bull" class="p-3 border-2 rounded-lg hover:bg-green-50 hover:border-green-500">
                                📈 BULLISH (Will Reach)
                            </button>
                            <button onclick="selectHumanPrediction('BEARISH')" id="pred-bear" class="p-3 border-2 rounded-lg hover:bg-red-50 hover:border-red-500">
                                📉 BEARISH (Won't Reach)
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Bet Amount (AION)</label>
                        <input type="number" id="human-bet-amount" class="w-full border rounded-lg px-3 py-2" placeholder="Enter amount" min="1">
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startHumanBattle()" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 font-semibold">Start Battle</button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        let humanPrediction = null;
        function selectHumanPrediction(pred) {
            humanPrediction = pred;
            document.getElementById('pred-bull').classList.remove('bg-green-100', 'border-green-500');
            document.getElementById('pred-bear').classList.remove('bg-red-100', 'border-red-500');
            if (pred === 'BULLISH') {
                document.getElementById('pred-bull').classList.add('bg-green-100', 'border-green-500');
            } else {
                document.getElementById('pred-bear').classList.add('bg-red-100', 'border-red-500');
            }
        }

        function startHumanBattle() {
            const aiIndex = document.getElementById('ai-opponent-select').value;
            const coinIndex = document.getElementById('coin-select').value;
            const betAmount = document.getElementById('human-bet-amount').value;
            
            if (!humanPrediction) {
                alert('Please select your prediction (BULLISH or BEARISH)!');
                return;
            }
            if (!betAmount || betAmount <= 0) {
                alert('Please enter a valid bet amount!');
                return;
            }
            
            const ai = battleAIModels[aiIndex];
            const coin = battleCoins[coinIndex];
            const aiPrediction = Math.random() > 0.5 ? 'BULLISH' : 'BEARISH';
            
            battlePlayer1Name = ai.name;
            battlePlayer2Name = localStorage.getItem('userName_' + walletAddress) || 'You';
            
            closeBattleModal();
            battleInProgress = true;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">AI vs Human Battle</h3>
                    <div class="text-center mb-4">
                        <p class="text-sm text-gray-600">Coin: <span class="font-bold">${coin.name}</span> - Target: <span class="font-bold">${coin.target}</span></p>
                        <p class="text-sm text-gray-600">Your Bet: <span class="font-bold text-blue-600">${betAmount} AION</span></p>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-4 bg-${ai.color}-50 rounded-lg">
                            <div class="text-4xl mb-2">🤖</div>
                            <h4 class="font-bold">${ai.name}</h4>
                            <p class="text-sm text-gray-600">${ai.accuracy}</p>
                            <p class="text-xs font-semibold mt-1">${aiPrediction}</p>
                            <div class="mt-2 text-2xl font-bold text-${ai.color}-600" id="ai-score">0</div>
                        </div>
                        <div class="text-center p-4 bg-orange-50 rounded-lg">
                            <div class="text-4xl mb-2">👤</div>
                            <h4 class="font-bold">You</h4>
                            <p class="text-sm text-gray-600">${walletAddress.substring(0,6)}...</p>
                            <p class="text-xs font-semibold mt-1">${humanPrediction}</p>
                            <div class="mt-2 text-2xl font-bold text-orange-600" id="human-score">0</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <div class="text-lg font-semibold" id="battle-status">Battle starting...</div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div class="bg-red-600 h-2 rounded-full transition-all" id="battle-progress" style="width: 0%"></div>
                        </div>
                    </div>
                    <button onclick="closeBattleModal()" class="w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Close</button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('ai-score', 'human-score', betAmount);
        }

        function startHumanvHumanBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">Human vs Human Battle Setup</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Select Coin to Battle</label>
                        <select id="pvp-coin-select" class="w-full border rounded-lg px-3 py-2">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name} - Target: ${coin.target}</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Choose Your Position</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectPvPPosition('BULLISH')" id="pvp-bull" class="p-4 border-2 rounded-lg hover:bg-green-50 hover:border-green-500">
                                <div class="text-2xl mb-1">📈</div>
                                <div class="font-bold">BULLISH</div>
                                <div class="text-xs text-gray-600">Will Reach Target</div>
                            </button>
                            <button onclick="selectPvPPosition('BEARISH')" id="pvp-bear" class="p-4 border-2 rounded-lg hover:bg-red-50 hover:border-red-500">
                                <div class="text-2xl mb-1">📉</div>
                                <div class="font-bold">BEARISH</div>
                                <div class="text-xs text-gray-600">Won't Reach Target</div>
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-semibold mb-2">Bet Amount (AION)</label>
                        <input type="number" id="pvp-bet-amount" class="w-full border rounded-lg px-3 py-2" placeholder="Enter amount" min="1">
                    </div>
                    <div class="bg-gray-50 p-3 rounded-lg mb-4">
                        <p class="text-xs text-gray-600 text-center">Waiting for opponent to join with opposite position...</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="readyJoinPvP()" class="flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold">Ready & Join</button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        let pvpPosition = null;
        function selectPvPPosition(pos) {
            pvpPosition = pos;
            document.getElementById('pvp-bull').classList.remove('bg-green-100', 'border-green-500');
            document.getElementById('pvp-bear').classList.remove('bg-red-100', 'border-red-500');
            if (pos === 'BULLISH') {
                document.getElementById('pvp-bull').classList.add('bg-green-100', 'border-green-500');
            } else {
                document.getElementById('pvp-bear').classList.add('bg-red-100', 'border-red-500');
            }
        }

        function readyJoinPvP() {
            const coinIndex = document.getElementById('pvp-coin-select').value;
            const betAmount = document.getElementById('pvp-bet-amount').value;
            
            if (!pvpPosition) {
                alert('Please select your position (BULLISH or BEARISH)!');
                return;
            }
            if (!betAmount || betAmount <= 0) {
                alert('Please enter a valid bet amount!');
                return;
            }
            
            const coin = battleCoins[coinIndex];
            const opponentPosition = pvpPosition === 'BULLISH' ? 'BEARISH' : 'BULLISH';
            const opponentName = ['CryptoKing', 'TraderPro', 'BullMaster', 'BearHunter', 'MoonShot'][Math.floor(Math.random() * 5)];
            
            battlePlayer1Name = localStorage.getItem('userName_' + walletAddress) || 'You';
            battlePlayer2Name = opponentName;
            
            closeBattleModal();
            battleInProgress = true;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                    <h3 class="text-2xl font-bold mb-4 text-center">Human vs Human Battle</h3>
                    <div class="text-center mb-4">
                        <p class="text-sm text-gray-600">Coin: <span class="font-bold">${coin.name}</span> - Target: <span class="font-bold">${coin.target}</span></p>
                        <p class="text-sm text-gray-600">Bet: <span class="font-bold text-red-600">${betAmount} AION</span> each</p>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-4 ${pvpPosition === 'BULLISH' ? 'bg-green-50 ring-2 ring-green-500' : 'bg-red-50 ring-2 ring-red-500'} rounded-lg">
                            <div class="text-4xl mb-2">👤</div>
                            <h4 class="font-bold">${localStorage.getItem('userName_' + walletAddress) || 'Anonymous'}</h4>
                            <p class="text-sm text-gray-600">${walletAddress.substring(0,6)}...</p>
                            <p class="text-xs text-gray-500">Win Rate: ${(Math.random() * 30 + 60).toFixed(1)}%</p>
                            <p class="text-xs font-semibold mt-1">${pvpPosition}</p>
                            <div class="mt-2 text-2xl font-bold ${pvpPosition === 'BULLISH' ? 'text-green-600' : 'text-red-600'}" id="p1-score">0</div>
                        </div>
                        <div class="text-center p-4 ${opponentPosition === 'BULLISH' ? 'bg-green-50 ring-2 ring-green-500' : 'bg-red-50 ring-2 ring-red-500'} rounded-lg">
                            <div class="text-4xl mb-2">👤</div>
                            <h4 class="font-bold">${opponentName}</h4>
                            <p class="text-sm text-gray-600">0x${Math.random().toString(16).substr(2,6)}...</p>
                            <p class="text-xs text-gray-500">Win Rate: ${(Math.random() * 30 + 60).toFixed(1)}%</p>
                            <p class="text-xs font-semibold mt-1">${opponentPosition}</p>
                            <div class="mt-2 text-2xl font-bold ${opponentPosition === 'BULLISH' ? 'text-green-600' : 'text-red-600'}" id="p2-score">0</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <div class="text-lg font-semibold" id="battle-status">Battle starting...</div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div class="bg-red-600 h-2 rounded-full transition-all" id="battle-progress" style="width: 0%"></div>
                        </div>
                    </div>
                    <button onclick="closeBattleModal()" class="w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Close</button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('p1-score', 'p2-score', betAmount);
        }

        function simulateBattle(score1Id, score2Id) {
            let progress = 0;
            let round = 1;
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('battle-progress').style.width = progress + '%';
                
                if (round <= 10) {
                    const score1 = Math.floor(Math.random() * 10) + 1;
                    const score2 = Math.floor(Math.random() * 10) + 1;
                    document.getElementById(score1Id).textContent = parseInt(document.getElementById(score1Id).textContent) + score1;
                    document.getElementById(score2Id).textContent = parseInt(document.getElementById(score2Id).textContent) + score2;
                    document.getElementById('battle-status').textContent = `Round ${round}/10`;
                    round++;
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    const finalScore1 = parseInt(document.getElementById(score1Id).textContent);
                    const finalScore2 = parseInt(document.getElementById(score2Id).textContent);
                    const winner = finalScore1 > finalScore2 ? 'Player 1' : 'Player 2';
                    document.getElementById('battle-status').textContent = `🏆 ${winner} Wins!`;
                    battleInProgress = false;
                }
            }, 500);
        }

        let battlePlayer1Name = '';
        let battlePlayer2Name = '';

        function simulateBattleWithBet(score1Id, score2Id, betAmount) {
            let progress = 0;
            let round = 1;
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('battle-progress').style.width = progress + '%';
                
                if (round <= 10) {
                    const score1 = Math.floor(Math.random() * 10) + 1;
                    const score2 = Math.floor(Math.random() * 10) + 1;
                    document.getElementById(score1Id).textContent = parseInt(document.getElementById(score1Id).textContent) + score1;
                    document.getElementById(score2Id).textContent = parseInt(document.getElementById(score2Id).textContent) + score2;
                    document.getElementById('battle-status').textContent = `Round ${round}/10`;
                    round++;
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    const finalScore1 = parseInt(document.getElementById(score1Id).textContent);
                    const finalScore2 = parseInt(document.getElementById(score2Id).textContent);
                    const winner1 = finalScore1 > finalScore2;
                    const winnerName = winner1 ? battlePlayer1Name : battlePlayer2Name;
                    const isWin = (winner1 && selectedBetSide === 'A') || (!winner1 && selectedBetSide === 'B');
                    const reward = isWin ? betAmount * 1.8 : 0;
                    
                    if (isWin) {
                        document.getElementById('battle-status').innerHTML = `🏆 ${winnerName} Wins!<br><span class="text-green-600">You won ${reward.toFixed(2)} AION!</span>`;
                    } else {
                        document.getElementById('battle-status').innerHTML = `🏆 ${winnerName} Wins!<br><span class="text-red-600">You lost ${betAmount} AION</span>`;
                    }
                    battleInProgress = false;
                }
            }, 500);
        }

        function closeBattleModal() {
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
            battleInProgress = false;
        }

        function showAIModelSelection(btn) {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            currentStakeButton = btn;
            const card = btn.closest('.bg-white');
            const title = card.querySelector('h3').textContent;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                    <h3 class="text-xl font-bold mb-4">Select AI Model</h3>
                    <div class="space-y-2 mb-4">
                        ${aiModels.map((model, i) => `
                            <button onclick="selectAIModel(${i})" class="w-full text-left p-3 border rounded-lg hover:bg-gray-50 hover:border-red-500">
                                ${model}
                            </button>
                        `).join('')}
                    </div>
                    <button onclick="closeModal()" class="w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function selectAIModel(index) {
            selectedAIModel = aiModels[index];
            closeModal();
            const card = currentStakeButton.closest('.bg-white');
            const title = card.querySelector('h3').textContent;
            const amount = prompt(`Stake on: ${title}\nAI Model: ${selectedAIModel}\n\nEnter amount (AION tokens):`);
            
            if (amount && parseFloat(amount) > 0) {
                currentStakeButton.disabled = true;
                currentStakeButton.textContent = 'Processing...';
                setTimeout(() => {
                    alert(`✅ Successfully staked ${amount} AION!\n\nPrediction: ${title}\nAI Model: ${selectedAIModel}\nAmount: ${amount} AION\nWallet: ${walletAddress.substring(0,6)}...${walletAddress.substring(38)}`);
                    currentStakeButton.textContent = 'Staked ✓';
                    currentStakeButton.classList.remove('bg-red-600', 'hover:bg-red-700');
                    currentStakeButton.classList.add('bg-green-600');
                    setTimeout(() => {
                        currentStakeButton.textContent = 'Stake Now';
                        currentStakeButton.classList.remove('bg-green-600');
                        currentStakeButton.classList.add('bg-red-600', 'hover:bg-red-700');
                        currentStakeButton.disabled = false;
                    }, 3000);
                }, 1500);
            }
        }

        function closeModal() {
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
        }

        document.querySelectorAll('button').forEach(btn => {
            if (btn.textContent.trim() === 'Stake Now') {
                btn.onclick = function() { showAIModelSelection(this); };
            }
        });
    </script>

    <style>
        .nav-btn.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        .nav-btn:not(.active) {
            color: rgba(255, 255, 255, 0.8);
        }
        .nav-btn:not(.active):hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
    </style>
</body>
</html>
